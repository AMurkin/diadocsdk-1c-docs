История изменений внешней компоненты
====================================


v5.5.4 - 28.03.2016
-----------------------

- Исправлена ошибка при передаче документов на согласование.


v5.5.3 - 24.03.2016
-----------------------

- Исправлена ошибка при обработке документов, полученных с удаленных ящиков организаций.


v5.5.2 - 24.03.2016
-----------------------

- Исправлена ошибка при отправке запроса на согласование исходящих документов.


v5.5.1 - 23.03.2016
-----------------------

- Исправлена ошибка при отказе в подписи документа в случае незаполненной должности в сертификате подписанта.


v5.5.0 - 21.03.2016
-----------------------

- Добавлена возможность для отправки пакета документов:
    - в объекте :doc:`Organization <Organization>` добавлен метод :doc:`CreatePackageSendTask <CreatePackageSendTask>`
      для создания задания на отправку пакета документов, который возвращает объект :doc:`PackageSendTask <PackageSendTask>`.
    - добавлен объект :doc:`PackageSendTask <PackageSendTask>` для работы с заданием на отправку пакета документов.
    - добавлен объект :doc:`DocumentToSend <DocumentToSend>` и производные от него объекты, предназначенные для
      работы с документами на отправку, входящими в пакет.
    - добавлен объект :doc:`SentPackageContent <SentPackageContent>` для передачи в задание на облачную подпись содержимого 
      всех документов из пакета на отправку.


v5.4.2 - 17.03.2016
-----------------------

- Исправлена ошибка при отправке запроса на коррекцию и запроса на аннулирование в случае незаполненной должности в 
  сертификате подписанта.


v5.4.1 - 15.03.2016
-----------------------

- Исправлена работа с акцизом в КСФ при создании задания на отправку из файла.


v5.4.0 - 22.01.2016
-----------------------

- Добавлены инструменты для отслеживания роуминговых документов:
    - в объекте :doc:`Document <Document>` добавлены свойства RoamingNotificationStatus и RoamingNotificationStatusDescription.
    - в объекте :doc:`Counteragent <Counteragent>` добавлено свойство IsRoaming.


v5.3.1 - 14.01.2016
-----------------------

- Исправлено поведение свойства "Количество" в табличной части Акта о выполненных работах.


v5.3.0 - 21.12.2015
-----------------------

- Добавлена возможность работы с пакетами документов:
    - в объекте :doc:`Document <Document>` добавлено свойство IsLockedPackage и метод :doc:`GetDocumentPackage <GetDocumentPackage>`
      для получаения пакета, в который включен документ.
    - добавлен объект :doc:`DocumentPackage <DocumentPackage>` для работы с пакетами документов.


v5.2.4 - 22.12.2015
-----------------------

- Исправлено время событий отправки патчей на неформализованные документы.


v5.2.3 - 15.12.2015
-----------------------

- Исправлено время событий отправки патчей на формализованные документы.


v5.2.2 - 07.12.2015
-----------------------

- Исправлен статус событий при отказе в подписи и аннулировании счетов-фактур.


v5.2.1 - 07.12.2015
-----------------------

- Уменьшено потребление трафика при обработке счетов-фактур в модуле.


v5.2.0 - 01.12.2015
-----------------------

- Добавлена возможность подписания документов облачной подписью:
    - добавлен метод :doc:`GetCloudCertificates <GetCloudCertificates>` в объект :doc:`DiadocConnection <Connection>` для 
      получения облачных сертификатов пользователя
    - добавлены объекты: :doc:`CloudCertificateInfo <CloudCertificateInfo>` (для информации об облачном сертификате),
      :doc:`CloudSignTask <CloudSignTask>` (для задание на подписание документов облачной подписью).


v5.1.6 - 05.11.2015
-----------------------

- Исправлена ошибка при подсчете итоговых сумм в корректировочных счетах-фактурах.


v5.1.5 - 28.10.2015
-----------------------

- Добавлена возможность указания отрицательного количества единицы товара (услуги) в актах.


v5.1.4 - 09.10.2015
-------------------

- Исправлена ошибка преобразования даты учета счетов-фактур.


v5.1.3 - 05.09.2015
-------------------

- Добавлена поддержка множественных ГТД в счетах-фактурах.


v5.1.2 - 26.08.2015
-------------------

- Добавлена поддержка нулевых значений суммы с учетом НДС для документов ТОРГ-12.


v5.1.1 - 11.08.2015
-------------------

- Исправлена валидация адреса согласно формату счета-фактуры 5.02.


v5.1.0 - 03.08.2015
-------------------

- для объектов :doc:`AcquireCounteragentTask <AcquireCounteragentTask>` исправлены ошибки при получении результата асинхронной отправки приглашения контрагенту.

v5.0.0 - 03.07.2015
-------------------

Реализованы новые модели для работы с документами "счет-фактура", "корректировочный счет-фактура", учитывающие все особенности формата 5.02

- для объекта  :doc:`InvoiceContent <InvoiceContent>`
   - вместо реквизита **AdditionalInfo** с типом "строка" введен реквизит **StructedAdditionalInfos**, который представляет собой :doc:`коллекцию <Collection>` объектов :doc:`AdditionalInfoItem <AdditionalInfoItem>`
   - налогичные изменения произведены для :doc:`InvoiceItem <InvoiceItem-(Invoice)>`

- для объекта  :doc:`InvoiceCorrectionContent <InvoiceCorrectionContent>`
   - вместо реквизита **AdditionalInfo** с типом "строка" введен реквизит **StructedAdditionalInfos**, который представляет собой :doc:`коллекцию <Collection>` объектов :doc:`AdditionalInfoItem <AdditionalInfoItem (CorrectionContent)>`
   - налогичные изменения произведены для :doc:`InvoiceCorrectionItem <InvoiceCorrectionItem>`
   - свойства  **Date**, **Number**, **InvoiceRevision Date**, **InvoiceRevisionNumber** удалены из объекта. Вместо них добавлено свойство **OriginalInvoices**
 
v4.2.0 - 13.04.2015
-------------------

Реализована работа с форматом 5.02 для документов "счет-фактура", "корректировочный счет-фактура":

- Для объектов :doc:`InvoiceContent <InvoiceContent>`, :doc:`InvoiceCorrectionContent <InvoiceCorrectionContent>` добавлено свойство **InvoiceVersion**, которое возвращает формат счет-фактуры.

- При отправке счет-фактуры, корректировочного счет-фактуры с помощью объекта :doc:`CreateSendTask <CreateSendTask>`, по умолчанию для отправляемого счет-фактуры устанавливается формат, актуальный на дату отправки. При необходимости отправки счет-фактуры в другом формате, необходимо его указывать в свойстве **InvoiceVersion**.

v4.1.0 - 24.02.2014
-------------------

-  Появилась возможность отправки черновиков :doc:`SendDraftAsync <SendDraftAsync>`

v4.0.0 - 13.02.2014
-------------------

-  Появилась сборка COM-объекта, скомпилированная для 64-битных ОС

v3.10.0.27 - 08.09.2014
-----------------------

- Объекту Документ добавлено свойство **HasCustomPrintForm**.

- Появилась возможность формирование печатной формы документа GetPrintForm.

- Для СФ появилась возможность формировать и подписывать документы по регламентному документооборота.

v3.0.08.21 - 23.07.2014
-----------------------

- Появилась поддержка внутренних документов. Для отправки внутреннего документа, в задании на отправку документа (объект SendTask), необходимо установить флаг IsInternal, и указать идентификаторы подразделений FromDepartmentId/ToDepartmentId. Значение свойства CounterAgentId при этом, должно оставаться пустым.

- Объекту Документ добавлены свойства FromDepartment/ToDepartment.

- Объекту Контрагент добавлено свойство Address.

v3.0.07.01 - 09.04.2014
-----------------------

- Появилась поддержка новых типов полуформализованных документов - договоров, протоколов согласования цены, детализаций, реестров сертификатов.

- При установке соединения через метод CreateConnectionByCertificate, можно указать пароль к ключевому контейнеру сертификата. При указании пароля, окно крипто-провайдера для его ввода, отображаться не будет.﻿

v3.0.03.01 - 15.02.2014
-----------------------

-  Появилась возможность аннулирования документов. Для отправки предложения об аннулировании используется метод :doc:`SendRevocationRequest <SendRevocationRequest>` документа. Для принятия предложения об аннулировании необходимо вызвать :doc:`AcceptRevocationRequest <AcceptRevocationRequest>`, для отказа от предложения об аннулировании -  :doc:`RejectRevocationRequest <RejectRevocationRequest>`.

v3.0.2 - 21.01.2014
-------------------

-  Выпущена редакция компоненты 3.0.
