История изменений внешней компоненты
====================================


v5.7 - 15.07.2016
-----------------------

- Реализована поддержка универсального передаточного документа:
    - добавлены объекты :doc:`Utd <Utd>` и :doc:`UtdRevision <UtdRevision>`, предназначенные для работы с УПД и исправлением УПД.
    - добавлен объект :doc:`UtdSellerContent <UtdSellerContent>`, предназначенный для работы с титулом продавца в УПД.
    - в объекты :doc:`SendTask <SendTask>` и :doc:`PackageSendTask <PackageSendTask>` добавлена поддержка УПД.
	

v5.6 - 18.04.2016
-----------------------

- Добавлена возможность подписания и отправки исходящих документов с отложенной отправкой:
    - в объект :doc:`Document <Document>` добавлен метод :doc:`CreateOutDocumentSignTask <CreateOutDocumentSignTask-(Document)>` и
      в объект :doc:`DocumentPackage <DocumentPackage>` добавлен метод :doc:`CreateOutDocumentSignTask <CreateOutDocumentSignTask-(DocumentPackage)>` 
      для создания задания на подписание и отправку исходящего документа или пакета  документов соответственно. Эти методы возвращают объект
      :doc:`OutDocumentSignTask <OutDocumentSignTask>`.
    - добавлен объект :doc:`OutDocumentSignTask <OutDocumentSignTask>`, представляющий собой задание на подписание и отправку исходящего документа.
      С помощью его методов :doc:`Send <Send-(OutDocumentSignTask)>` или :doc:`SendAsync <SendAsync-(OutDocumentSignTask)>` можно подписать
      и отправить исходящий документ, который прежде был отправлен с выставленным флагом **DelaySend**.
- :doc:`Исправлены ошибки <Bugs_5_6>`


v5.5 - 08.04.2016
-----------------------

- Добавлена возможность для отправки пакета документов:
    - в объекте :doc:`Organization <Organization>` добавлен метод :doc:`CreatePackageSendTask <CreatePackageSendTask>`
      для создания задания на отправку пакета документов, который возвращает объект :doc:`PackageSendTask <PackageSendTask>`.
    - добавлен объект :doc:`PackageSendTask <PackageSendTask>` для работы с заданием на отправку пакета документов.
    - добавлен объект :doc:`DocumentToSend <DocumentToSend>` и производные от него объекты, предназначенные для
      работы с документами на отправку, входящими в пакет.
    - добавлен объект :doc:`SentPackageContent <SentPackageContent>` для передачи в задание на облачную подпись содержимого 
      всех документов из пакета на отправку.
- В объект :doc:`DiadocConnection <Connection>` добавлен метод :doc:`GetMyUser <GetMyUser>`, позволяющий получить данные о текущем 
  авторизованном пользователе.
- В объект :doc:`Organization <Organization>` добавлены методы :doc:`SetData <SetData>` и :doc:`GetData <GetData>`, позволяющие 
  добавлять и извлекать пары вида "ключ-значение" в хранилище.
- В метод :doc:`GetPersonalCertificates <GetPersonalCertificates>` объекта :doc:`интерфейса "Диадок" <Root-method>` добавлен входной параметр UserStore,
  позволяющий искать сертификаты не только в хранилище текущего пользователя, но и в хранилище машины.
- :doc:`Исправлены ошибки <Bugs_5_5>`


v5.4 - 22.01.2016
-----------------------

- Добавлены инструменты для отслеживания роуминговых документов:
    - в объекте :doc:`Document <Document>` добавлены свойства RoamingNotificationStatus и RoamingNotificationStatusDescription.
    - в объекте :doc:`Counteragent <Counteragent>` добавлено свойство IsRoaming.
- :doc:`Исправлены ошибки <Bugs_5_4>`



v5.3 - 21.12.2015
-----------------------

- Добавлена возможность работы с пакетами документов:
    - в объекте :doc:`Document <Document>` добавлено свойство IsLockedPackage и метод :doc:`GetDocumentPackage <GetDocumentPackage>`
      для получаения пакета, в который включен документ.
    - добавлен объект :doc:`DocumentPackage <DocumentPackage>` для работы с пакетами документов.
- :doc:`Исправлены ошибки <Bugs_5_3>`



v5.2.0 - 01.12.2015
-----------------------

- Добавлена возможность подписания документов облачной подписью:
    - добавлен метод :doc:`GetCloudCertificates <GetCloudCertificates>` в объект :doc:`DiadocConnection <Connection>` для 
      получения облачных сертификатов пользователя
    - добавлены объекты: :doc:`CloudCertificateInfo <CloudCertificateInfo>` (для информации об облачном сертификате),
      :doc:`CloudSignTask <CloudSignTask>` (для задание на подписание документов облачной подписью).
- :doc:`Исправлены ошибки <Bugs_5_2>`


v5.1 - 28.10.2015
-----------------------

- Добавлена возможность указания отрицательного количества единицы товара (услуги) в актах.
- Добавлена поддержка множественных ГТД в счетах-фактурах.
- Добавлена поддержка нулевых значений суммы с учетом НДС для документов ТОРГ-12.
- :doc:`Исправлены ошибки <Bugs_5_1>`


v5.0.0 - 03.07.2015
-------------------

Реализованы новые модели для работы с документами "счет-фактура", "корректировочный счет-фактура", учитывающие все особенности формата 5.02

- для объекта  :doc:`InvoiceContent <InvoiceContent>`
   - вместо реквизита **AdditionalInfo** с типом "строка" введен реквизит **StructedAdditionalInfos**, который представляет собой :doc:`коллекцию <Collection>` объектов :doc:`AdditionalInfoItem <AdditionalInfoItem>`
   - налогичные изменения произведены для :doc:`InvoiceItem <InvoiceItem-(Invoice)>`

- для объекта  :doc:`InvoiceCorrectionContent <InvoiceCorrectionContent>`
   - вместо реквизита **AdditionalInfo** с типом "строка" введен реквизит **StructedAdditionalInfos**, который представляет собой :doc:`коллекцию <Collection>` объектов :doc:`AdditionalInfoItem <AdditionalInfoItem (CorrectionContent)>`
   - налогичные изменения произведены для :doc:`InvoiceCorrectionItem <InvoiceCorrectionItem>`
   - свойства  **Date**, **Number**, **InvoiceRevision Date**, **InvoiceRevisionNumber** удалены из объекта. Вместо них добавлено свойство **OriginalInvoices**
 

v4.2.0 - 13.04.2015
-------------------

Реализована работа с форматом 5.02 для документов "счет-фактура", "корректировочный счет-фактура":

- Для объектов :doc:`InvoiceContent <InvoiceContent>`, :doc:`InvoiceCorrectionContent <InvoiceCorrectionContent>` добавлено свойство **InvoiceVersion**, которое возвращает формат счет-фактуры.

- При отправке счет-фактуры, корректировочного счет-фактуры с помощью объекта :doc:`CreateSendTask <CreateSendTask>`, по умолчанию для отправляемого счет-фактуры устанавливается формат, актуальный на дату отправки. При необходимости отправки счет-фактуры в другом формате, необходимо его указывать в свойстве **InvoiceVersion**.


v4.1.0 - 24.02.2014
-------------------

-  Появилась возможность отправки черновиков :doc:`SendDraftAsync <SendDraftAsync>`


v4.0.0 - 13.02.2014
-------------------

-  Появилась сборка COM-объекта, скомпилированная для 64-битных ОС


v3.10.0.27 - 08.09.2014
-----------------------

- Объекту Документ добавлено свойство **HasCustomPrintForm**.

- Появилась возможность формирование печатной формы документа GetPrintForm.

- Для СФ появилась возможность формировать и подписывать документы по регламентному документооборота.


v3.0.08.21 - 23.07.2014
-----------------------

- Появилась поддержка внутренних документов. Для отправки внутреннего документа, в задании на отправку документа (объект SendTask), необходимо установить флаг IsInternal, и указать идентификаторы подразделений FromDepartmentId/ToDepartmentId. Значение свойства CounterAgentId при этом, должно оставаться пустым.

- Объекту Документ добавлены свойства FromDepartment/ToDepartment.

- Объекту Контрагент добавлено свойство Address.


v3.0.07.01 - 09.04.2014
-----------------------

- Появилась поддержка новых типов полуформализованных документов - договоров, протоколов согласования цены, детализаций, реестров сертификатов.

- При установке соединения через метод CreateConnectionByCertificate, можно указать пароль к ключевому контейнеру сертификата. При указании пароля, окно крипто-провайдера для его ввода, отображаться не будет.﻿


v3.0.03.01 - 15.02.2014
-----------------------

-  Появилась возможность аннулирования документов. Для отправки предложения об аннулировании используется метод :doc:`SendRevocationRequest <SendRevocationRequest>` документа. Для принятия предложения об аннулировании необходимо вызвать :doc:`AcceptRevocationRequest <AcceptRevocationRequest>`, для отказа от предложения об аннулировании -  :doc:`RejectRevocationRequest <RejectRevocationRequest>`.


v3.0.2 - 21.01.2014
-------------------

-  Выпущена редакция компоненты 3.0.
