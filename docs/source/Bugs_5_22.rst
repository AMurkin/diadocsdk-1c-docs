Ошибки, исправленные в версии 5.22
==================================

v5.22.0 - 31.07.2018
--------------------

- Метод :doc:`Send <Send-(PackageSendTask)>` не возвращал в результат документы, отправленные с типом SupplementaryAgreement
- При чтении контента акта @552 у :doc:`работы <Act552WorkItem>` с неуказанной ставкой НДС, поле TaxRate заполнялось "18%" вместо "без НДС"
- В Com-компоненте для произвольных систем пустая дата изменена на 01.01.0001 00:00:00, по аналогии с AddInCom
- Метод :doc:`getDocumentEventList <GetDocumentEventList>` не возвращал события с типом "New" для документов, пришедших внутри патча к другому документу
- Метод :doc:`getDocumentEventList <GetDocumentEventList>` неверно определял DocumentId у некоторых :doc:`событий <DocumentEvent>`
- Метод :doc:`getDocumentEventList <GetDocumentEventList>` неверно определял тип события для сущности с Извещением о Получении документа получателем. Теперь для ИоП возвращается событие с типом Accept (было Confirmation)
- Некоторые методы игнорировали настройки прокси


v5.22.1 - 09.08.2018
--------------------

- Метод :doc:`SaveAllContent <SaveAllContent>` не сохранял печатную форму документа с типом "Дополнительное соглашение"
- Неверное сериализовалось поле Total объекта :doc:`InvoiceTotalsDiff <InvoiceTotalsDiff>`, что приводило к непринятию Диадоком такого документа
- В контенте :doc:`работы <Act552WorkItem>` с неуказанной ставкой НДС, если сумма НДС не указана, то ставка будет "Без НДС"; если сумма заполнена нулевым значением - ставка будет 0%;


v5.22.2 - 20.08.2018
--------------------

- Исправлена генерация тэгов ИдПок и ИдОтпр в титуле отправителя акта формата @172 приказа


v5.22.3 - 31.08.2018
--------------------

- Восстановлена работа компоненты на старых операционных системах
- :doc:`Подписанию извещений о получении <DocumentEvent>` документа со стороны контрагента вернули тип "Confirmation"
- В поле объекта :doc:`УКД <Ucd>` **VatDec** возвращалось значение из **VatInc**


v5.22.4 - 03.09.2018
--------------------

- При вызове метода GetContent некоторых типов документов возникала ошибка "bad_weak_ptr"


v5.22.5 - 01.10.2018
--------------------

- Не заполнялись поля Comment и Author объекта :doc:`Resolution <Resolution>` с типами "RevocationDisapprove" и "RevocationRequest"
- При подписании облачным сертификатом входящих однотитульных документов с запросом подписи в подпись попадал сам файл
- Неверно определялся признак возможности шифрования сертификатом
- Поведение методов :doc:`GetCounteragentById <GetCounteragentById>`, :doc:`GetCounteragentByOrgId <GetCounteragentByOrgId>`, :doc:`GetCounteragentListByInnList <GetCounteragentListByInnList>`, :doc:`GetCounteragentListByStatus <GetCounteragentListByStatus>` были не согласованы друг с другом и отличалось между AddIn и Com версиями компонент. Теперь результатом всегда является com-объект.
- У объекта :doc:`ReceiptGenerationProcess <ReceiptGenerationProcess>` в Com версии отсутствовала коллекция :doc:`возникших ошибок <ReceiptError>`
- Создание задания на отправку документа с помощью метода :doc:`CreateSendTaskFromFileRaw <CreateSendTaskFromFileRaw>` заканчивалось ошибкой отсутствия файла на диске.