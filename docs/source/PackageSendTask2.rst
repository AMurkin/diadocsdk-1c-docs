PackageSendTask2
================

Объект предназначен для отправки документов на сервер Диадок


Свойства
--------

    -  **CounteragentId** (строка, чтение/запись) - идентификатор получателя
    -  **ToDepartmentId** (строка, чтение/запись) - идентификатор подразделения получателя
    -  **FromDepartmentId** (строка, чтение/запись) - идентификатор подразделения отправителя
    -  **ProxyBoxId** (строка, чтение/запись) - идентификатор промежуточного получателя
    -  **ProxyDepartmentId** (строка, чтение/запись) - идентификатор подразделения промежуточного получателя
    -  **IsDraft** (булево, чтение/запись) - флаг, показывающий, что данное сообщение является черновиком
    -  **LockDraft** (булево, чтение/запись) - флаг, показывающий, что данный черновик является защищенным от изменений
    -  **StrictDraftValidation** (булево, чтение/запись) - флаг, включающий проверку правильности черновика
    -  **LockMode** (строка, чтение/запись) - режим блокировки сообщения
    -  **DelaySend** (булево, чтение/запись) - флаг, показывающий, что документ из сообщения будет помещён в исходящие, но не будет подписан и отправлен сразу
    -  **UseShelf** (булево, чтение/запись) - использовать передачу данных небольшими частями (рекомендуется устанавливать для больших документов)
    -  **OperationId** (строка, чтение/запись) - уникальный идентификатор операции
    -  **DocumentsToSend** (:doc:`коллекция <Collection>` объектов :doc:`CustomDocumentToSend <CustomDocumentToSend>`, чтение) - коллекция документов, уже добавленных в пакет


Методы
------

    -  :doc:`AddDocument <PackageSendTask2_AddDocument>` - добавляет документ заданного типа в пакет на отправку
    -  :doc:`AddDocumentFromFile <PackageSendTask2_AddDocumentFromFile>` - добавляет документ в пакет на отправку, загружая его из файла
    -  :doc:`AddDocumentFromString <PackageSendTask2_AddDocumentFromString>` - добавляет документ в пакет на отправку, загружая его содержание из строки

    -  :doc:`Send <PackageSendTask2_Send>`
    -  :doc:`SendAsync <PackageSendTask2_SendAsync>`


Дополнительная информация
-------------------------


1. Поле *LockMode* может принимать значения:

    -  **None** - документы могут обрабатываться по отдельности
    -  **Send** - для документов пакета возможна только совместная отправка. После отправки документы могут обрабатывать по отдельности
    -  **Full** - документы пакета всегда обрабатываются все вместе


2. Чтобы отправить внутренний документ, в качестве CounteragentId укажите BoxId собственной организации


3. Если отправка пакета с заполненным **OperationId** завершилась успехом, то все остальные попытки отправки с тем же идентификатором не будут приводить к отправке нового пакета, а в результате выполнения метода вернется ссылка на ранее отправленный пакет.


.. toctree::
   :name: Auto
   :hidden:
